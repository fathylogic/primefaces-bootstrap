<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/bootstrap.xhtml">

<ui:define name="pageTitle">Soluvas Starter Web Application</ui:define>
<ui:define name="contentPrimary">
	<div class="hero-unit">
		<h1>Hello, world!</h1>
	</div>

<script type="text/javascript">
jQuery(document).ready(function() {
	var Game = Backbone.Model.extend({
		initialize: function() {
			console.log(this.name);
		},
		defaults: {
			name: 'Default title',
			releaseDate: 2011,
		}
	});
	var GameCollection = Backbone.Collection.extend({
		model: Game,
		url: '#{request.contextPath}/api/browser/game'
	});

	var portal = new Game({releaseDate: 2012});
	portal.url = '#{request.contextPath}/api/browser/game/gatotkaca';
	portal.id = 'gatotkaca';
	console.log("name is", portal.get('name'));
	portal.set({name: 'Updated'});
	console.log("new name is", portal.get('name'));
	portal.save(null, {success: function() {
		portal.set({name: 'Yet another'});
		portal.save();
	}});

	var games = new GameCollection();
	games.fetch({success: function() {
		console.log(games.at(0).get('name'), games.at(1).get('name'))
	}});
	
	
});
</script>	
	
</ui:define>

</ui:composition>
</html>
